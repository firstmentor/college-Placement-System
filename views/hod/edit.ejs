<%- include('../layouts/navbar.ejs') %> 
<%- include('../layouts/sidebar.ejs') %>

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <div class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1 class="m-0 text-dark">HOD Display</h1>
        </div>
        <!-- /.col -->
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item active">HOD Page</li>
          </ol>
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
  </div>
  <!-- /.content-header -->

  <!-- Main content -->
  <div class="content">
    <div class="container-fluid">
      <div class="card">
        <div class="card-header">
        

          <% if(error.length> 0){ %>
            <div class="alert alert-danger">
              <!-- To print -->
              <%= error %>
            </div>
            <% } %> <% if(success.length> 0){ %>
            <div class="alert alert-success">
              <!-- To print -->
              <%= success %>
            </div>
            <% } %>
        </div>
        <!-- /.card-header -->
        <div class="card-body">
            <form action="/hod/update/<%= hod._id %>" method="post" enctype="multipart/form-data">
                <div class="form-group">
                  <label>HOD Name</label>
                  <input type="text" name="name" value="<%= hod.name %>" class="form-control" required>
                </div>
              
                <div class="form-group">
                  <label>Address</label>
                  <textarea name="address" class="form-control" required><%= hod.address %></textarea>
                </div>
              
                <div class="form-group">
                  <label>Gender</label>
                  <select name="gender" class="form-control" required>
                    <option value="">Select gender</option>
                    <option value="male" <%= hod.gender === 'male' ? 'selected' : '' %>>Male</option>
                    <option value="female" <%= hod.gender === 'female' ? 'selected' : '' %>>Female</option>
                  </select>
                </div>
              
                <div class="form-group">
                  <label>Department</label>
                  <select name="department" class="form-control" required>
                    <option value="">Select Department</option>
                    <option value="IT" <%= hod.department === 'IT' ? 'selected' : '' %>>IT</option>
                    <option value="CSE" <%= hod.department === 'CSE' ? 'selected' : '' %>>CSE</option>
                    <option value="EC" <%= hod.department === 'EC' ? 'selected' : '' %>>EC</option>
                    <option value="AI" <%= hod.department === 'AI' ? 'selected' : '' %>>AI</option>
                    <option value="ML" <%= hod.department === 'ML' ? 'selected' : '' %>>ML</option>
                    <option value="MCA" <%= hod.department === 'MCA' ? 'selected' : '' %>>MCA</option>
                    <option value="MBA" <%= hod.department === 'MBA' ? 'selected' : '' %>>MBA</option>
                  </select>
                </div>
              
                <div class="form-group">
                  <label>Email</label>
                  <input type="text" name="email" value="<%= hod.email %>" class="form-control" required>
                </div>
              
                <div class="form-group">
                  <label>Phone</label>
                  <input type="number" name="phone" value="<%= hod.phone %>" class="form-control" required>
                </div>
              
                <div class="form-group">
                  <label>Password <small>(Leave blank to keep same)</small></label>
                  <input type="password" name="password" class="form-control" placeholder="••••••••">
                </div>
              
                <div class="form-group">
                  <label>Image</label>
                  <input type="file" name="image" class="form-control">
                  <% if (hod.image?.url) { %>
                    <img src="<%= hod.image.url %>" alt="Profile Image" width="100" class="mt-2">
                  <% } %>
                </div>
              
                <button type="submit" class="btn btn-info">Update</button>
              </form>
              
         
        </div>
        <!-- /.card-body -->
      </div>
      <!-- /.card -->

      <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
  </div>
  <!-- /.content -->
</div>
<!-- /.content-wrapper -->



<%- include('../layouts/footer.ejs') %>
